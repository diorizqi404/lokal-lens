'use client';

import { JSX, useState } from 'react';

type BadgeStatus = 'earned' | 'locked';
type FilterType = 'all' | 'earned' | 'locked';

interface Badge {
  id: string;
  title: string;
  subtitle: string;
  status: BadgeStatus;
  icon: JSX.Element;
  bgColor: string;
}

const BadgeCollectionSection = () => {
  const [activeFilter, setActiveFilter] = useState<FilterType>('all');

  const badges: Badge[] = [
    {
      id: '1',
      title: 'Penjelajah Budaya Jawa',
      subtitle: 'Diperoleh: 17 Agu 2023',
      status: 'earned',
      bgColor: 'rgba(212, 160, 23, 0.10)',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15 38L29 34L33 20L19 24L15 38ZM24 32C23.1667 32 22.4583 31.7083 21.875 31.125C21.2917 30.5417 21 29.8333 21 29C21 28.1667 21.2917 27.4583 21.875 26.875C22.4583 26.2917 23.1667 26 24 26C24.8333 26 25.5417 26.2917 26.125 26.875C26.7083 27.4583 27 28.1667 27 29C27 29.8333 26.7083 30.5417 26.125 31.125C25.5417 31.7083 24.8333 32 24 32ZM24 49C21.2333 49 18.6333 48.475 16.2 47.425C13.7667 46.375 11.65 44.95 9.85 43.15C8.05 41.35 6.625 39.2333 5.575 36.8C4.525 34.3667 4 31.7667 4 29C4 26.2333 4.525 23.6333 5.575 21.2C6.625 18.7667 8.05 16.65 9.85 14.85C11.65 13.05 13.7667 11.625 16.2 10.575C18.6333 9.525 21.2333 9 24 9C26.7667 9 29.3667 9.525 31.8 10.575C34.2333 11.625 36.35 13.05 38.15 14.85C39.95 16.65 41.375 18.7667 42.425 21.2C43.475 23.6333 44 26.2333 44 29C44 31.7667 43.475 34.3667 42.425 36.8C41.375 39.2333 39.95 41.35 38.15 43.15C36.35 44.95 34.2333 46.375 31.8 47.425C29.3667 48.475 26.7667 49 24 49ZM24 45C28.4333 45 32.2083 43.4417 35.325 40.325C38.4417 37.2083 40 33.4333 40 29C40 24.5667 38.4417 20.7917 35.325 17.675C32.2083 14.5583 28.4333 13 24 13C19.5667 13 15.7917 14.5583 12.675 17.675C9.55833 20.7917 8 24.5667 8 29C8 33.4333 9.55833 37.2083 12.675 40.325C15.7917 43.4417 19.5667 45 24 45Z" fill="#D4A017"/>
        </svg>
      ),
    },
    {
      id: '2',
      title: 'Pecinta Wastra Nusantara',
      subtitle: 'Diperoleh: 20 Sep 2023',
      status: 'earned',
      bgColor: 'rgba(0, 108, 132, 0.10)',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 45C5.43333 45 4.95833 44.8083 4.575 44.425C4.19167 44.0417 4 43.5667 4 43C4 42.6667 4.06667 42.3583 4.2 42.075C4.33333 41.7917 4.53333 41.5667 4.8 41.4L22 28.5V25C22 24.4333 22.2 23.9583 22.6 23.575C23 23.1917 23.4833 23 24.05 23C24.8833 23 25.5833 22.7 26.15 22.1C26.7167 21.5 27 20.7833 27 19.95C27 19.1167 26.7083 18.4167 26.125 17.85C25.5417 17.2833 24.8333 17 24 17C23.1667 17 22.4583 17.2917 21.875 17.875C21.2917 18.4583 21 19.1667 21 20H17C17 18.0667 17.6833 16.4167 19.05 15.05C20.4167 13.6833 22.0667 13 24 13C25.9333 13 27.5833 13.675 28.95 15.025C30.3167 16.375 31 18.0167 31 19.95C31 21.5167 30.5417 22.9167 29.625 24.15C28.7083 25.3833 27.5 26.2333 26 26.7V28.5L43.2 41.4C43.4667 41.5667 43.6667 41.7917 43.8 42.075C43.9333 42.3583 44 42.6667 44 43C44 43.5667 43.8083 44.0417 43.425 44.425C43.0417 44.8083 42.5667 45 42 45H6ZM12 41H36L24 32L12 41Z" fill="#006C84"/>
        </svg>
      ),
    },
    {
      id: '3',
      title: '10 Scan Pertama',
      subtitle: 'Diperoleh: 01 Okt 2023',
      status: 'earned',
      bgColor: 'rgba(192, 57, 43, 0.10)',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 19V9H14V13H8V19H4ZM4 49V39H8V45H14V49H4ZM34 49V45H40V39H44V49H34ZM40 19V13H34V9H44V19H40ZM35 40H38V43H35V40ZM35 34H38V37H35V34ZM32 37H35V40H32V37ZM29 40H32V43H29V40ZM26 37H29V40H26V37ZM32 31H35V34H32V31ZM29 34H32V37H29V34ZM26 31H29V34H26V31ZM38 15V27H26V15H38ZM22 31V43H10V31H22ZM22 15V27H10V15H22ZM19 40V34H13V40H19ZM19 24V18H13V24H19ZM35 24V18H29V24H35Z" fill="#C0392B"/>
        </svg>
      ),
    },
    {
      id: '4',
      title: 'Kontributor Aktif',
      subtitle: 'Bagikan 10 hasil scan',
      status: 'locked',
      bgColor: '#E5E7EB',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M34 49C32.3333 49 30.9167 48.4167 29.75 47.25C28.5833 46.0833 28 44.6667 28 43C28 42.8 28.05 42.3333 28.15 41.6L14.1 33.4C13.5667 33.9 12.95 34.2917 12.25 34.575C11.55 34.8583 10.8 35 10 35C8.33333 35 6.91667 34.4167 5.75 33.25C4.58333 32.0833 4 30.6667 4 29C4 27.3333 4.58333 25.9167 5.75 24.75C6.91667 23.5833 8.33333 23 10 23C10.8 23 11.55 23.1417 12.25 23.425C12.95 23.7083 13.5667 24.1 14.1 24.6L28.15 16.4C28.0833 16.1667 28.0417 15.9417 28.025 15.725C28.0083 15.5083 28 15.2667 28 15C28 13.3333 28.5833 11.9167 29.75 10.75C30.9167 9.58333 32.3333 9 34 9C35.6667 9 37.0833 9.58333 38.25 10.75C39.4167 11.9167 40 13.3333 40 15C40 16.6667 39.4167 18.0833 38.25 19.25C37.0833 20.4167 35.6667 21 34 21C33.2 21 32.45 20.8583 31.75 20.575C31.05 20.2917 30.4333 19.9 29.9 19.4L15.85 27.6C15.9167 27.8333 15.9583 28.0583 15.975 28.275C15.9917 28.4917 16 28.7333 16 29C16 29.2667 15.9917 29.5083 15.975 29.725C15.9583 29.9417 15.9167 30.1667 15.85 30.4L29.9 38.6C30.4333 38.1 31.05 37.7083 31.75 37.425C32.45 37.1417 33.2 37 34 37C35.6667 37 37.0833 37.5833 38.25 38.75C39.4167 39.9167 40 41.3333 40 43C40 44.6667 39.4167 46.0833 38.25 47.25C37.0833 48.4167 35.6667 49 34 49ZM34 45C34.5667 45 35.0417 44.8083 35.425 44.425C35.8083 44.0417 36 43.5667 36 43C36 42.4333 35.8083 41.9583 35.425 41.575C35.0417 41.1917 34.5667 41 34 41C33.4333 41 32.9583 41.1917 32.575 41.575C32.1917 41.9583 32 42.4333 32 43C32 43.5667 32.1917 44.0417 32.575 44.425C32.9583 44.8083 33.4333 45 34 45ZM10 31C10.5667 31 11.0417 30.8083 11.425 30.425C11.8083 30.0417 12 29.5667 12 29C12 28.4333 11.8083 27.9583 11.425 27.575C11.0417 27.1917 10.5667 27 10 27C9.43333 27 8.95833 27.1917 8.575 27.575C8.19167 27.9583 8 28.4333 8 29C8 29.5667 8.19167 30.0417 8.575 30.425C8.95833 30.8083 9.43333 31 10 31ZM34 17C34.5667 17 35.0417 16.8083 35.425 16.425C35.8083 16.0417 36 15.5667 36 15C36 14.4333 35.8083 13.9583 35.425 13.575C35.0417 13.1917 34.5667 13 34 13C33.4333 13 32.9583 13.1917 32.575 13.575C32.1917 13.9583 32 14.4333 32 15C32 15.5667 32.1917 16.0417 32.575 16.425C32.9583 16.8083 33.4333 17 34 17Z" fill="#9CA3AF"/>
        </svg>
      ),
    },
    {
      id: '5',
      title: 'Pakar Tarian Tradisional',
      subtitle: 'Pelajari 5 tarian tradisional',
      status: 'locked',
      bgColor: '#E5E7EB',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 51V47H6C7.06667 47 8.10833 46.8333 9.125 46.5C10.1417 46.1666 11.1 45.6666 12 45C12.8667 45.6 13.7833 46.0666 14.75 46.4C15.7167 46.7333 16.7167 46.9166 17.75 46.95C18.85 46.9833 19.9333 46.8333 21 46.5C22.0667 46.1666 23.0667 45.6666 24 45C24.8667 45.6333 25.8167 46.1166 26.85 46.45C27.8833 46.7833 28.9333 46.95 30 46.95C31.0667 46.95 32.1 46.7916 33.1 46.475C34.1 46.1583 35.0667 45.6666 36 45C36.9333 45.6666 37.9083 46.1666 38.925 46.5C39.9417 46.8333 40.9667 47 42 47H44V51H42C40.9667 51 39.95 50.875 38.95 50.625C37.95 50.375 36.9667 50 36 49.5C35.0333 50 34.0583 50.375 33.075 50.625C32.0917 50.875 31.0667 51 30 51C28.9667 51 27.95 50.875 26.95 50.625C25.95 50.375 24.9667 50 24 49.5C23.0333 50.0333 22.0167 50.425 20.95 50.675C19.8833 50.925 18.8167 51.0333 17.75 51C16.75 50.9666 15.7667 50.825 14.8 50.575C13.8333 50.325 12.9 49.9666 12 49.5C11.0333 50 10.0583 50.375 9.075 50.625C8.09167 50.875 7.06667 51 6 51H4ZM18 43C17.1333 43 16.275 42.8333 15.425 42.5C14.575 42.1666 13.7667 41.6666 13 41C13.4667 40.6333 13.95 40.25 14.45 39.85C14.95 39.45 15.4667 39.0666 16 38.7L12.9 32.75C12.6 32.1833 12.375 31.5833 12.225 30.95C12.075 30.3166 12 29.6666 12 29V21C12 19.9 12.3917 18.9583 13.175 18.175C13.9583 17.3916 14.9 17 16 17H22C23.3333 17 24.6083 16.75 25.825 16.25C27.0417 15.75 28.1333 15.0333 29.1 14.1L31.9 16.9C30.5333 18.2333 29 19.25 27.3 19.95C25.6 20.65 23.8333 21 22 21H19.2V28H24.8L28.2 31.75C30.3667 30.85 32.2917 30.1666 33.975 29.7C35.6583 29.2333 37.1 29 38.3 29C39.4667 29 40.375 29.225 41.025 29.675C41.675 30.125 42 30.75 42 31.55C42 32.85 41.1 34.4916 39.3 36.475C37.5 38.4583 35.0333 40.5333 31.9 42.7C31.6333 42.7666 31.325 42.8333 30.975 42.9C30.625 42.9666 30.3 43 30 43C28.9333 43 27.8667 42.7416 26.8 42.225C25.7333 41.7083 24.8 40.9666 24 40C23.2 40.9666 22.275 41.7083 21.225 42.225C20.175 42.7416 19.1 43 18 43ZM19.65 36.2C20.1833 35.8666 20.95 35.4166 21.95 34.85C22.95 34.2833 23.7667 33.85 24.4 33.55L23 32L18 32.2L19.65 36.2ZM16 15C14.9 15 13.9583 14.6083 13.175 13.825C12.3917 13.0416 12 12.1 12 11C12 9.89997 12.3917 8.95831 13.175 8.17498C13.9583 7.39164 14.9 6.99997 16 6.99997C17.1 6.99997 18.0417 7.39164 18.825 8.17498C19.6083 8.95831 20 9.89997 20 11C20 12.1 19.6083 13.0416 18.825 13.825C18.0417 14.6083 17.1 15 16 15ZM33.1 14L31 11.9L35.9 6.99997H40.1L33.1 14Z" fill="#9CA3AF"/>
        </svg>
      ),
    },
    {
      id: '6',
      title: 'Master Cagar Budaya',
      subtitle: 'Kunjungi 3 cagar budaya',
      status: 'locked',
      bgColor: '#E5E7EB',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2 47V23H6V27H10V11H14V15H18V11H22V15H26V11H30V15H34V11H38V27H42V23H46V47H28V41C28 39.9 27.6083 38.9583 26.825 38.175C26.0417 37.3917 25.1 37 24 37C22.9 37 21.9583 37.3917 21.175 38.175C20.3917 38.9583 20 39.9 20 41V47H2ZM6 43H16V41C16 38.8 16.7833 36.9167 18.35 35.35C19.9167 33.7833 21.8 33 24 33C26.2 33 28.0833 33.7833 29.65 35.35C31.2167 36.9167 32 38.8 32 41V43H42V31H34V19H14V31H6V43ZM18 29H22V23H18V29ZM26 29H30V23H26V29Z" fill="#9CA3AF"/>
        </svg>
      ),
    },
    {
      id: '7',
      title: 'Ahli Kuliner Sumatera',
      subtitle: 'Scan 5 kuliner khas Sumatera',
      status: 'locked',
      bgColor: '#E5E7EB',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8.7502 47L5.9502 44.2L26.4502 23.7C25.8502 22.3 25.7669 20.7167 26.2002 18.95C26.6335 17.1833 27.5835 15.6 29.0502 14.2C30.8169 12.4333 32.7835 11.4 34.9502 11.1C37.1169 10.8 38.8835 11.3333 40.2502 12.7C41.6169 14.0667 42.1502 15.8333 41.8502 18C41.5502 20.1667 40.5169 22.1333 38.7502 23.9C37.3502 25.3667 35.7669 26.3167 34.0002 26.75C32.2335 27.1833 30.6502 27.1 29.2502 26.5L26.7502 29L41.9502 44.2L39.1502 47L23.9502 31.9L8.7502 47ZM14.6502 29.9L8.6502 23.9C6.8502 22.1 5.9502 19.95 5.9502 17.45C5.9502 14.95 6.8502 12.8 8.6502 11L21.0502 23.5L14.6502 29.9Z" fill="#9CA3AF"/>
        </svg>
      ),
    },
    {
      id: '8',
      title: 'Duta Komunitas',
      subtitle: 'Undang 5 teman bergabung',
      status: 'locked',
      bgColor: '#E5E7EB',
      icon: (
        <svg width="48" height="58" viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 41V37.85C0 36.4167 0.733333 35.25 2.2 34.35C3.66667 33.45 5.6 33 8 33C8.43333 33 8.85 33.0083 9.25 33.025C9.65 33.0417 10.0333 33.0833 10.4 33.15C9.93333 33.85 9.58333 34.5833 9.35 35.35C9.11667 36.1167 9 36.9167 9 37.75V41H0ZM12 41V37.75C12 36.6833 12.2917 35.7083 12.875 34.825C13.4583 33.9417 14.2833 33.1667 15.35 32.5C16.4167 31.8333 17.6917 31.3333 19.175 31C20.6583 30.6667 22.2667 30.5 24 30.5C25.7667 30.5 27.3917 30.6667 28.875 31C30.3583 31.3333 31.6333 31.8333 32.7 32.5C33.7667 33.1667 34.5833 33.9417 35.15 34.825C35.7167 35.7083 36 36.6833 36 37.75V41H12ZM39 41V37.75C39 36.8833 38.8917 36.0667 38.675 35.3C38.4583 34.5333 38.1333 33.8167 37.7 33.15C38.0667 33.0833 38.4417 33.0417 38.825 33.025C39.2083 33.0083 39.6 33 40 33C42.4 33 44.3333 33.4417 45.8 34.325C47.2667 35.2083 48 36.3833 48 37.85V41H39ZM16.25 37H31.8C31.4667 36.3333 30.5417 35.75 29.025 35.25C27.5083 34.75 25.8333 34.5 24 34.5C22.1667 34.5 20.4917 34.75 18.975 35.25C17.4583 35.75 16.55 36.3333 16.25 37ZM8 31C6.9 31 5.95833 30.6083 5.175 29.825C4.39167 29.0417 4 28.1 4 27C4 25.8667 4.39167 24.9167 5.175 24.15C5.95833 23.3833 6.9 23 8 23C9.13333 23 10.0833 23.3833 10.85 24.15C11.6167 24.9167 12 25.8667 12 27C12 28.1 11.6167 29.0417 10.85 29.825C10.0833 30.6083 9.13333 31 8 31ZM40 31C38.9 31 37.9583 30.6083 37.175 29.825C36.3917 29.0417 36 28.1 36 27C36 25.8667 36.3917 24.9167 37.175 24.15C37.9583 23.3833 38.9 23 40 23C41.1333 23 42.0833 23.3833 42.85 24.15C43.6167 24.9167 44 25.8667 44 27C44 28.1 43.6167 29.0417 42.85 29.825C42.0833 30.6083 41.1333 31 40 31ZM24 29C22.3333 29 20.9167 28.4167 19.75 27.25C18.5833 26.0833 18 24.6667 18 23C18 21.3 18.5833 19.875 19.75 18.725C20.9167 17.575 22.3333 17 24 17C25.7 17 27.125 17.575 28.275 18.725C29.425 19.875 30 21.3 30 23C30 24.6667 29.425 26.0833 28.275 27.25C27.125 28.4167 25.7 29 24 29ZM24 25C24.5667 25 25.0417 24.8083 25.425 24.425C25.8083 24.0417 26 23.5667 26 23C26 22.4333 25.8083 21.9583 25.425 21.575C25.0417 21.1917 24.5667 21 24 21C23.4333 21 22.9583 21.1917 22.575 21.575C22.1917 21.9583 22 22.4333 22 23C22 23.5667 22.1917 24.0417 22.575 24.425C22.9583 24.8083 23.4333 25 24 25Z" fill="#9CA3AF"/>
        </svg>
      ),
    },
  ];

  const earnedCount = badges.filter(b => b.status === 'earned').length;
  const lockedCount = badges.filter(b => b.status === 'locked').length;

  const filteredBadges = badges.filter(badge => {
    if (activeFilter === 'all') return true;
    if (activeFilter === 'earned') return badge.status === 'earned';
    if (activeFilter === 'locked') return badge.status === 'locked';
    return true;
  });

  return (
    <section className="w-full bg-white pb-12">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex flex-col gap-6">
          <div className="px-4 py-3">
            <h2 className="text-[22px] font-bold leading-[27.5px] tracking-[-0.33px] text-[#1A1A1A]">
              Koleksi Lencanamu
            </h2>
          </div>

          <div className="inline-flex items-center gap-1 p-1 rounded-full bg-[#F3F4F6] self-start ml-4">
            <button
              onClick={() => setActiveFilter('all')}
              className={`px-4 py-2 rounded-full text-sm font-medium leading-[21px] transition-all ${
                activeFilter === 'all'
                  ? 'bg-white text-[#1A1A1A] shadow-sm'
                  : 'bg-transparent text-[#6B7280]'
              }`}
            >
              Semua
            </button>
            <button
              onClick={() => setActiveFilter('earned')}
              className={`px-4 py-2 rounded-full text-sm font-medium leading-[21px] transition-all ${
                activeFilter === 'earned'
                  ? 'bg-white text-[#1A1A1A] shadow-sm'
                  : 'bg-transparent text-[#6B7280]'
              }`}
            >
              Diperoleh ({earnedCount})
            </button>
            <button
              onClick={() => setActiveFilter('locked')}
              className={`px-4 py-2 rounded-full text-sm font-medium leading-[21px] transition-all ${
                activeFilter === 'locked'
                  ? 'bg-white text-[#1A1A1A] shadow-sm'
                  : 'bg-transparent text-[#6B7280]'
              }`}
            >
              Terkunci ({lockedCount})
            </button>
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 px-4">
            {filteredBadges.map((badge) => (
              <div
                key={badge.id}
                className="flex flex-col items-center gap-3 p-6 rounded-[24px] bg-[#F4EBD0] shadow-sm"
              >
                <div
                  className={`w-24 h-24 rounded-full flex items-center justify-center ${
                    badge.status === 'locked' ? 'opacity-60' : ''
                  }`}
                  style={{ background: badge.bgColor }}
                >
                  {badge.icon}
                </div>

                <h3
                  className={`text-base font-bold leading-6 text-center ${
                    badge.status === 'locked' ? 'text-[#9CA3AF]' : 'text-[#1A1A1A]'
                  }`}
                >
                  {badge.title}
                </h3>

                <p
                  className={`text-xs leading-4 text-center ${
                    badge.status === 'locked' ? 'text-[#006C84] font-medium' : 'text-[#6B7280] font-normal'
                  }`}
                >
                  {badge.subtitle}
                </p>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>
  );
};

export default BadgeCollectionSection;
